{% extends "base.html" %}
{% block content %}

<div class="result-container">
    <button class="btn-voltar" onclick="window.history.back()">← Voltar</button>
    <h2>{{ meta.title }}</h2>
    <div id="chart"></div>
</div>

<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<script>
    const chartData = {{ chart_data | tojson | safe }};
    if (chartData && chartData.data && chartData.layout) {
        Plotly.newPlot('chart', chartData.data, chartData.layout, { responsive: true });
    } else {
        document.getElementById('chart').innerHTML =
            "<p style='color:#b91c1c'>Não foi possível gerar o gráfico.</p>";
    }
</script>

{% endblock %}